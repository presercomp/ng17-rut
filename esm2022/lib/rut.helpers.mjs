export function rutClean(value) {
    if (typeof value === 'string') {
        return value
            .replace(/[^0-9kK]+/g, '')
            .replace(/^0+/, '')
            .toUpperCase();
    }
    return '';
}
export function rutValidate(value) {
    if (typeof value !== 'string') {
        return false;
    }
    if (/[A-Za-z]/g.test(value.replace(/[kK]/g, ''))) {
        return false;
    }
    const rut = rutClean(value);
    let rutDigits = parseInt(rut.slice(0, -1), 10);
    let m = 0;
    let s = 1;
    while (rutDigits > 0) {
        s = (s + rutDigits % 10 * (9 - m++ % 6)) % 11;
        rutDigits = Math.floor(rutDigits / 10);
    }
    const checkDigit = (s > 0) ? String((s - 1)) : 'K';
    return (checkDigit === rut.slice(-1));
}
export function rutFormat(value) {
    const rut = rutClean(value);
    if (rut.length <= 1) {
        return rut;
    }
    let result = `${rut.slice(-4, -1)}-${rut.substr(rut.length - 1)}`;
    for (let i = 4; i < rut.length; i += 3) {
        result = `${rut.slice(-3 - i, -i)}.${result}`;
    }
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnV0LmhlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZzE3LXJ1dC9zcmMvbGliL3J1dC5oZWxwZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNsQyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE9BQU8sS0FBSzthQUNULE9BQU8sQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO2FBQ3pCLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDO2FBQ2xCLFdBQVcsRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLEtBQWE7SUFDdkMsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUM5QixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2pELE9BQU8sS0FBSyxDQUFBO0lBQ2QsQ0FBQztJQUVELE1BQU0sR0FBRyxHQUFXLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwQyxJQUFJLFNBQVMsR0FBVyxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN2RCxJQUFJLENBQUMsR0FBVyxDQUFDLENBQUM7SUFDbEIsSUFBSSxDQUFDLEdBQVcsQ0FBQyxDQUFDO0lBRWxCLE9BQU8sU0FBUyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ3JCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxTQUFTLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzlDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBQ0QsTUFBTSxVQUFVLEdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFFM0QsT0FBTyxDQUFDLFVBQVUsS0FBSyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxDQUFDO0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxLQUFhO0lBQ3JDLE1BQU0sR0FBRyxHQUFXLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUVwQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDcEIsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBRUQsSUFBSSxNQUFNLEdBQVcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDMUUsS0FBSyxJQUFJLENBQUMsR0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQy9DLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxFQUFFLENBQUM7SUFDaEQsQ0FBQztJQUVELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcnV0Q2xlYW4odmFsdWU6IHN0cmluZykge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgLnJlcGxhY2UoL1teMC05a0tdKy9nLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL14wKy8sICcnKVxuICAgICAgICAudG9VcHBlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIFxuICBleHBvcnQgZnVuY3Rpb24gcnV0VmFsaWRhdGUodmFsdWU6IHN0cmluZykge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICBcbiAgICBpZiAoL1tBLVphLXpdL2cudGVzdCh2YWx1ZS5yZXBsYWNlKC9ba0tdL2csICcnKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgXG4gICAgY29uc3QgcnV0OiBzdHJpbmcgPSBydXRDbGVhbih2YWx1ZSk7XG4gICAgbGV0IHJ1dERpZ2l0czogbnVtYmVyID0gcGFyc2VJbnQocnV0LnNsaWNlKDAsIC0xKSwgMTApO1xuICAgIGxldCBtOiBudW1iZXIgPSAwO1xuICAgIGxldCBzOiBudW1iZXIgPSAxO1xuICBcbiAgICB3aGlsZSAocnV0RGlnaXRzID4gMCkge1xuICAgICAgcyA9IChzICsgcnV0RGlnaXRzICUgMTAgKiAoOSAtIG0rKyAlIDYpKSAlIDExO1xuICAgICAgcnV0RGlnaXRzID0gTWF0aC5mbG9vcihydXREaWdpdHMgLyAxMCk7XG4gICAgfVxuICAgIGNvbnN0IGNoZWNrRGlnaXQ6IHN0cmluZyA9IChzID4gMCkgPyBTdHJpbmcoKHMgLSAxKSkgOiAnSyc7XG4gIFxuICAgIHJldHVybiAoY2hlY2tEaWdpdCA9PT0gcnV0LnNsaWNlKC0xKSk7XG4gIH1cbiAgXG4gIGV4cG9ydCBmdW5jdGlvbiBydXRGb3JtYXQodmFsdWU6IHN0cmluZykge1xuICAgIGNvbnN0IHJ1dDogc3RyaW5nID0gcnV0Q2xlYW4odmFsdWUpO1xuICBcbiAgICBpZiAocnV0Lmxlbmd0aCA8PSAxKSB7XG4gICAgICByZXR1cm4gcnV0O1xuICAgIH1cbiAgXG4gICAgbGV0IHJlc3VsdDogc3RyaW5nID0gYCR7cnV0LnNsaWNlKC00LCAtMSl9LSR7cnV0LnN1YnN0cihydXQubGVuZ3RoIC0gMSl9YDtcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSA0OyBpIDwgcnV0Lmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICByZXN1bHQgPSBgJHtydXQuc2xpY2UoLTMgLSBpLCAtaSl9LiR7cmVzdWx0fWA7XG4gICAgfVxuICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gICJdfQ==